<script>
  import { createEventDispatcher } from 'svelte';

  export let tilesData = [];
  export let gameState = {};

  const dispatch = createEventDispatcher();

  const paths = [
    "m 1114.2006,965.95689 c -0.2936,0.41062 -0.5831,1.03215 -1.2083,0.88837 -0.4813,-0.0725 -0.9755,0.10961 -1.1582,0.58851 -0.2923,0.66189 -1.0723,0.17435 -1.5553,0.46629 -0.5094,0.52803 -0.3201,1.37073 -0.4039,2.03702 -0.044,4.9042 0,9.809 -0.017,14.71343 0.1962,0.45521 0.8496,0.53544 1.0467,1.0339 0.198,0.47856 1.0348,0.52245 0.8973,1.16062 -0.056,0.48365 0.05,1.0228 0.5316,1.24106 0.2911,0.21489 0.645,0.49627 0.5296,0.9248 -0.069,0.4694 0.1286,0.93397 0.5751,1.13178 0.7201,0.35948 0.1204,1.33366 0.695,1.80143 0.4172,0.21717 0.6658,0.5955 0.9559,0.94569 0.3192,0.28498 0.8304,0.47407 0.7728,0.9992 -0.046,0.49264 0.034,1.0609 0.5601,1.26143 0.4239,0.33474 0.649,0.87147 1.1457,1.12454 0.3244,0.40506 0.6489,0.81737 1.1149,1.06739 0.3727,0.55148 -0.023,1.48262 0.7358,1.80489 0.471,0.32288 0.6793,1.06366 1.3686,0.98556 0.4196,0 0.8726,0.031 1.0712,0.4665 0.2715,0.3615 0.5979,0.7555 1.1097,0.6104 6.1948,0 12.3895,0 18.5843,0 0.347,0.3897 0.5893,1.0504 1.228,0.9643 0.6009,0.076 1.2677,-0.1254 1.8304,0.1198 0.3369,0.3728 0.6151,0.9563 1.2202,0.8592 0.3841,-0.044 0.7773,0 0.9697,0.3873 0.2963,0.3843 0.781,0.6573 1.0241,1.0342 0.077,1.0692 -0.083,2.1781 0.1781,3.2241 0.2026,0.4205 0.944,0.4194 0.8345,1.0123 0.023,1.2776 -0.045,2.5728 0.033,3.8397 0.2715,0.4319 1.085,0.5994 0.942,1.2723 -0.072,0.5555 0.2169,1.0937 0.7377,1.3143 0.6454,0.4096 -0.024,1.4379 0.696,1.8045 0.5617,0.3039 0.7611,0.9953 1.3585,1.2482 0.2777,0.3387 0.4973,0.7363 0.9091,0.9474 0.4004,0.3033 0.5705,0.9873 1.193,0.8866 0.4707,-0.043 1.0275,0.037 1.2023,0.5556 0.3171,0.6056 1.0568,0.4497 1.6056,0.5598 0.4458,0.2627 0.585,1.008 1.2304,0.9103 0.6112,0.053 1.2794,-0.08 1.8575,0.1291 0.2985,0.3723 0.5585,0.7984 1.0091,1.007 0.3163,0.3074 0.5678,1.0684 1.1304,0.7955 0.3624,-0.3145 0.5439,-0.8118 0.9949,-1.0387 0.3788,-0.3581 0.6506,-0.8148 1.1107,-1.0866 0.3312,-0.3666 0.6188,-0.7653 1.0486,-1.0309 0.4335,-0.4453 0.069,-1.1916 0.4581,-1.634 0.5371,-0.1799 0.8823,-0.6888 0.835,-1.2566 0.028,-0.856 0.01,-1.7127 0.014,-2.569 0.3073,-0.3752 0.9401,-0.5009 0.9514,-1.0834 0.055,-0.4246 -0.1115,-0.9842 0.3846,-1.2071 0.374,-0.2421 0.7542,-0.5494 0.6085,-1.0534 0.046,-0.5262 -0.09,-1.1328 0.065,-1.6107 0.4085,-0.4096 1.0849,-0.7484 0.9939,-1.432 -0.064,-0.4033 0.033,-0.812 0.4354,-0.9962 0.5349,-0.2519 0.5846,-0.858 0.5418,-1.3768 0.039,-0.4712 0.6314,-0.6463 0.8656,-1.0214 0.2318,-0.2815 0.4794,-0.6089 0.8956,-0.4972 0.6052,0.1136 1.1056,-0.3112 1.3331,-0.8339 0.6234,-0.3554 1.3935,-0.1589 2.0877,-0.2589 0.7064,0.1191 0.7654,-0.8013 1.3334,-1.0182 0.3978,-0.3245 0.6238,-0.8118 1.0815,-1.0683 0.35,-0.376 0.643,-0.7986 1.0907,-1.067 0.2977,-0.3496 0.5501,-0.9165 1.1192,-0.7919 0.5052,0.083 0.9591,-0.1791 1.2,-0.61904 0.3508,-0.46875 1.1087,-0.70955 1.0094,-1.41266 -0.034,-0.36609 -0.015,-0.75675 0.3582,-0.94479 0.4783,-0.4832 0.9742,-0.95692 1.472,-1.4101 0.3218,-0.7892 -0.1402,-1.75498 0.3369,-2.49265 0.464,-0.23625 0.9379,-0.65765 0.8386,-1.24175 -0.058,-0.40056 0.08,-0.832 0.505,-0.94241 0.6245,-0.33094 0.3799,-1.09297 0.5408,-1.63812 0.2839,-0.43321 1.0971,-0.50643 0.8994,-1.18151 -0.03,-3.44178 0.062,-6.88626 -0.048,-10.32641 0.01,-0.48468 -0.1903,-1.19716 -0.8097,-1.11591 -0.5062,-0.0159 -1.124,-0.0183 -1.3781,0.51911 -0.1873,0.35582 -0.5325,0.55649 -0.9388,0.46348 -0.6181,-0.10597 -1.0197,0.39957 -1.3593,0.82748 -0.3415,0.46526 -1.0354,0.13194 -1.5378,0.23236 -6.1705,0 -12.341,0 -18.5115,0 -0.3941,-0.30785 -0.5617,-0.84378 -1.0042,-1.06066 -12.0362,0 -24.0723,0 -36.1084,0 -0.346,-0.32734 -0.4828,-0.93935 -1.0584,-0.95138 -0.4476,-0.0372 -1.0264,0.0755 -1.2622,-0.42451 -0.205,-0.47752 -0.7154,-0.6384 -1.1999,-0.56964 -0.4929,0.0905 -0.7395,-0.36233 -0.9512,-0.71164 -0.381,-0.54867 -1.1232,-0.19911 -1.6219,-0.458 -0.2799,-0.45817 -0.7071,-0.79444 -1.0956,-1.14629 -0.047,-0.63162 -0.01,-1.52118 -0.7739,-1.74049 -0.6171,-0.40617 -0.2433,-1.24474 -0.3445,-1.86444 0.053,-0.84408 -0.1136,-1.71571 0.1322,-2.5277 0.2508,-0.36487 1.0378,-0.52302 0.834,-1.10347 -0.3833,-0.64665 -1.2779,-0.34748 -1.8886,-0.43358 -0.9901,0.0376 -2.0122,-0.0858 -2.9807,0.0648 z",
    "m 1232.4331,880.25928 c -1.3931,0.61357 -2.4594,1.98894 -2.8755,3.42578 -0.5101,1.35645 -2.2507,0.72912 -2.8276,1.92529 -2.1469,0.47714 -4.5786,-0.3518 -6.6392,0.53711 -0.4166,0.9442 -1.6909,0.43508 -2.25,1.28955 -0.607,0.78846 -1.3618,1.39171 -2.3686,1.46533 -0.5786,0.34711 -0.8518,1.07553 -1.6719,0.89356 -0.8201,0.0993 -0.9946,1.16916 -1.8994,1.04639 -1.5424,0.77084 -2.8824,2.158 -3.3325,3.82714 -0.7411,0.86764 -1.7739,1.59065 -1.9356,2.79834 -0.8418,1.19874 -1.9618,2.59803 -3.6069,2.31006 -0.9699,-0.0939 -1.1345,1.23148 -2.1406,0.94922 -1.5295,-0.10845 -3.2926,0.31603 -4.7027,-0.22754 -0.438,-1.05842 -1.898,-0.34907 -2.3086,-1.38672 -0.8879,-0.77354 -2.4563,0.18843 -3.0351,-1.02197 -0.6049,-0.52928 -1.6438,-0.0761 -1.961,-0.98877 -1.3649,-0.72394 -3.0466,-0.0899 -4.5205,-0.22656 -1.1304,0.8218 -0.1335,2.74814 -0.8159,3.9165 -1.4181,1.00488 -0.4812,3.10328 -0.8677,4.54785 -0.116,0.66986 -0.7467,1.34437 -0.015,1.92969 0.3624,2.08575 2.474,3.29097 3.7388,4.83545 1.0585,1.21701 2.5892,2.23751 3.3519,3.57764 0,3.65543 0,7.31087 0,10.96631 -1.0296,0.75697 -1.9491,1.73069 -2.164,3.00781 -0.7892,0.91151 -1.9137,1.68686 -1.9244,3.01269 -1.5081,0.83668 -0.526,2.85386 -1.0986,4.11377 -1.3657,0.91799 -0.5689,2.93496 -0.811,4.29493 0.036,0.84019 0.073,1.73027 -0.7305,2.18017 -0.3765,1.15273 -0.5369,2.70722 0.2109,3.73487 0.9295,0.41092 0.2353,1.86885 1.3287,2.22509 0.3292,0.71645 0.329,1.66655 1.1069,2.17139 0.8189,0.51436 1.0912,1.37206 1.3603,2.22168 0.6241,0.95893 1.8813,1.53457 1.8404,2.82617 0.3072,0.65698 1.1677,0.92591 0.8862,1.82031 -0.1377,0.87237 0.2762,1.65513 0.9238,2.14307 0.2838,1.27687 -0.4014,3.1157 0.9615,3.91797 0.3086,1.80954 -0.1119,3.71201 0.3398,5.49902 0.966,0.70464 2.4445,0.45364 3.5737,0.26367 0.5551,-0.29978 0.7828,-1.03574 1.5533,-0.88623 1.3208,-0.36488 1.8094,-2.06744 3.2807,-2.09716 1.122,-0.5375 1.6581,-2.01379 3.0547,-1.96192 0.654,-0.28989 0.895,-1.13709 1.7622,-0.93213 0.8454,-0.1314 1.0568,-1.28657 2.0581,-0.9541 0.8659,0.12252 1.663,-0.24809 2.1353,-0.93945 0.8014,0.0134 1.5461,-0.3259 1.9824,-0.98535 0.9828,-0.17684 2.3322,0.16985 2.8877,-0.90723 4.0075,-0.31233 8.0653,-0.17865 12.0859,-0.0742 0.7278,0.005 0.9018,1.05887 1.7652,0.86328 1.1976,0.21071 2.6335,-0.25395 3.7026,0.29297 1.0316,1.33641 3.0515,0.48407 4.4917,0.79004 0.7203,0.0485 0.9277,1.10152 1.8013,0.92773 1.3152,0.0885 2.7845,-0.31062 3.5214,1.10415 1.349,1.25349 2.5874,3.30867 4.7281,2.94908 0.6781,0.10815 0.8551,1.13743 1.7344,0.92529 1.961,-0.0296 4.0244,0.15728 5.9155,-0.25146 0.4175,-2.85616 -0.096,-5.89279 0.4448,-8.73389 1.2299,-0.93609 0.5346,-2.85041 0.7778,-4.1709 0.1338,-5.59185 -0.2004,-11.21176 0.21,-16.78711 1.3051,-0.93921 0.5679,-2.9318 0.8061,-4.28271 0.1149,-2.22114 -0.2323,-4.63136 0.1789,-6.72846 0.9471,-1.38183 2.8753,-1.07722 4.2806,-0.80084 1.2455,0.65196 1.1169,1.99033 1.0425,3.22754 -0.1374,1.34448 0.266,2.92005 -0.2529,4.15039 -1.0509,0.42355 -0.346,1.8678 -1.3526,2.27588 -0.5125,0.69214 -0.7683,2.38391 0.3091,2.61181 1.0374,-0.16768 1.7363,-1.08316 1.9087,-2.05517 1.2677,-1.64559 2.7388,-3.42559 4.6025,-4.42481 1.9809,-0.68434 2.8204,-3.50785 5.2105,-3.07195 1.9071,0.0327 0.2463,-2.65493 1.7207,-3.29133 0.6025,-1.36171 0.4184,-3.04259 0.1514,-4.47705 -0.3856,-0.49429 -0.9899,-0.81508 -0.7744,-1.57178 -0.231,-1.88828 0.3977,-4.00305 -0.4468,-5.75341 -1.0204,-0.41705 -0.2801,-2.16744 -1.6387,-2.18116 -1.1826,-0.0598 -2.8148,-0.48204 -3.5176,0.74805 -2.4634,0.42107 -5.1006,-0.30771 -7.4902,0.45361 -0.3274,0.60546 -0.8983,0.71193 -1.5288,0.80616 -1.1502,0.51488 -1.6746,2.03273 -3.0884,1.97607 -0.6443,0.24343 -0.8419,1.10813 -1.6645,0.94092 -1.333,0.36509 -1.8215,2.12798 -3.3355,2.05908 -0.6437,0.22777 -0.8171,1.12172 -1.6494,0.88184 -0.8081,0.0488 -1.6995,0.11297 -2.1387,-0.67725 -0.4754,-0.53313 -1.717,-0.0123 -1.5146,-1.04053 -0.027,-0.95176 -1.2727,-1.18719 -1.0503,-2.19677 -0.123,-0.8713 -1.2717,-1.1224 -1.0674,-2.13135 -0.4086,-1.56942 -2.6451,-0.26394 -3.315,-1.59424 -0.4833,-0.56241 -1.7161,-0.0629 -1.5942,-1.05811 -0.3474,-1.39651 -2.1133,-1.9622 -2.1001,-3.49267 -0.2779,-0.64555 -1.1434,-0.87912 -0.8598,-1.74024 -0.2228,-1.88027 0.3784,-3.9662 -0.4205,-5.72363 -1.4303,-0.85837 0.1265,-3.12426 -1.1757,-4.1626 -0.8309,-0.5594 -0.2489,-1.89461 -0.418,-2.74609 -0.3065,-1.03505 1.0258,-1.2263 0.9795,-2.19971 -0.1652,-0.95152 1.2013,-1.13671 0.9707,-2.16357 -0.1188,-1.57546 0.4885,-3.47705 -0.4727,-4.84375 -0.8734,-0.45049 -0.2419,-1.89379 -1.3506,-2.25049 -0.2923,-0.5016 -0.036,-1.55869 -0.9526,-1.46533 z",
    "m 1151.3442,878.26904 c -1.4026,0.72668 -2.2045,2.49437 -3.8955,2.64405 -0.5559,0.34507 -0.8216,1.06086 -1.6206,0.87695 -0.8351,0.0343 -0.9605,1.20678 -1.8784,0.9502 -1.1656,0.0109 -2.6542,-0.20213 -3.3447,0.95166 -1.9191,0.50477 -3.1534,2.36958 -4.6303,3.58846 -1.3779,1.34925 -2.748,2.76833 -3.6226,4.47745 -1.963,2.51018 -4.749,4.39107 -6.4708,7.09864 -0.377,0.92556 -0.021,2.00627 0.7935,2.51904 0.1225,1.06157 -0.095,2.39782 1,3 0.149,1.01894 -0.1303,2.35521 0.9404,2.93896 0.1952,2.78565 0.2644,5.67823 -0.034,8.45118 -1.0791,0.5193 -0.6182,2.0045 -1.6606,2.60595 -0.9816,0.9122 -1.983,1.93024 -2.3662,3.19287 -1.2067,1.78852 -3.519,2.92771 -3.937,5.15723 -0.8802,0.35735 -0.7409,1.37523 -1.0532,2.05469 -0.9377,0.3238 -0.588,1.4675 -1.0674,2.04248 -1.0558,0.43923 -0.3471,1.8971 -1.3843,2.30713 -0.7746,0.90098 0.1932,2.48075 -1.0464,3.05859 -0.6898,0.91256 0.2138,2.43414 -1,3 -0.6912,0.88938 0.2096,2.39397 -0.958,2.96045 -0.5076,0.8278 -0.3647,2.0097 -1.4858,2.45654 -1.7597,0.25502 -3.4859,2.15754 -2.7012,3.98243 0.4084,0.53723 1.0478,0.84856 0.8066,1.68994 -0.054,1.82306 0.2164,3.73895 -0.1689,5.50879 -1.1306,0.48212 -0.9402,2.09204 0.099,2.54687 0.05,0.81453 0.3178,1.60948 1.0318,2.06348 -0.013,0.80372 0.3251,1.52929 0.9741,1.98926 0.2636,0.83813 0.1051,2.14284 1.4505,1.75908 1.9039,0.20323 3.9426,-0.23024 5.7487,0.40937 1.0458,0.6824 1.093,2.20441 0.6943,3.23291 -1.2027,0.75513 -0.8583,2.54839 -0.5859,3.71826 0.5091,1.13547 1.7047,1.60642 2.7705,1.98047 0.8461,0.8146 1.6557,1.83545 2.9277,1.86084 0.9941,1.32035 3.007,0.61332 4.4194,0.86599 10.7638,0.16279 21.6139,-0.15531 32.3228,0.20384 0.6219,0.0861 0.952,0.865 1.7134,0.72461 5.9709,0.16714 11.9619,0.20515 17.9307,-0.021 0.9205,0.10621 1.1022,-1.12208 2.0376,-0.89258 0.8965,-0.0442 1.0894,-1.21269 2.0517,-1.05761 1.2518,-0.42653 2.0488,-1.64338 2.2349,-2.88575 1.2626,-0.56167 0.5802,-2.12533 1.0669,-3.06689 1.3284,-0.89484 0.6508,-2.83884 0.7558,-4.18701 0.1515,-0.93533 -1.117,-1.07029 -0.9477,-1.96436 0.084,-0.90515 -0.071,-1.93409 -0.9126,-2.40869 -0.3039,-1.32282 0.3906,-3.18281 -1.0186,-4.01904 -0.1493,-2.229 -3.027,-2.99052 -3.2348,-5.18116 -0.3414,-0.56053 -1.0644,-0.82345 -0.8789,-1.62548 -0.086,-0.85423 -1.2468,-1.03401 -1,-2 -0.087,-0.85312 -1.2528,-1.03043 -0.9512,-2.01026 0.1074,-1.02667 -0.4053,-2.44239 0.6938,-3.04052 0.687,-1.75541 -0.047,-3.79694 0.4888,-5.56055 1.4824,-0.81294 0.3016,-2.90783 1.0615,-4.03565 1.049,-0.43713 0.3551,-1.8757 1.3662,-2.29931 0.4939,-0.71987 0.3721,-1.71853 1.21,-2.25342 0.9385,-1.08426 2.6432,-1.87091 2.1709,-3.57373 -0.1015,-3.22177 0.1997,-6.52369 -0.1465,-9.69678 -0.7053,-1.01783 -1.8408,-1.42135 -2.8506,-1.96728 -1.4128,-1.25297 -3.0084,-2.57979 -4.0029,-4.08399 0.1202,-2.68144 -0.2335,-5.45402 0.1914,-8.08935 1.1824,-0.74484 0.8972,-2.54333 0.5689,-3.69092 -1.1378,-1.45981 -2.4605,-3.05159 -4.2007,-3.77246 -1.4003,-0.69232 -2.4225,-2.02272 -2.9644,-3.44922 -1.2331,-1.51841 -2.6615,-3.19395 -4.5928,-3.71192 -0.4709,-1.11894 -2.1067,-1.03017 -2.5561,0.0518 -1.0436,0.22177 -2.4479,-0.1406 -3.0371,1.01465 -0.9529,0.0762 -2.3011,0.44231 -2.8369,-0.5874 -1.0565,-0.63684 -2.6249,0.0892 -3.3067,-1.26758 -0.525,-0.7205 -1.501,-0.9665 -2.1831,-1.25977 0.072,-0.88446 -0.5793,-1.46531 -1.063,-2.05029 -0.2779,-1.87411 -2.1686,-2.99248 -3.4853,-4.15918 -0.1311,-0.0744 -0.2908,-0.10597 -0.44,-0.0659 z"
  ];

  function handleTileClick(tileId) {
    dispatch('tileClick', tileId);
  }
</script>

<svg width="1842" height="1426" viewBox="0 0 1842 1426">
  <g>
    {#each tilesData as tile, i}
      <path
        d={paths[i]}
        style="fill:{gameState[tile.id] || '#ffffff'};stroke-width:0.25"
        on:click={() => handleTileClick(tile.id)}
      >
        <title>{tile.name}</title>
      </path>
    {/each}
  </g>
</svg>
